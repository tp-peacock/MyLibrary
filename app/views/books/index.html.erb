<% provide(:title, "Books List") %>
<!DOCTYPE html>
<html>
<head>
	<title><%= yield(:title) %> Books List</title>
</head>
<body>

<%= link_to("Home", {:controller => 'home', :action => 'index'}) %>

<h2>Books List</h2>

<font color="red"><strong>
<% if flash[:notice] %>
	<p align="center">
	  <%= flash[:notice] %>
	</p>
<% end %>
</strong></font>

<%= form_for(:book, :url => {:action => 'create'}) do |f| %>
	<%= render(:partial => "form", :locals => {:f => f}) %>
	<br />
<% end %>

<div align="center">
	<%= form_for(:search, :url => {:action => 'search'}) do |f| %>
		<%= f.text_field(:query) %>
		<button type="submit" class= "btn btn-default btn-xs">
			Search
		</button>
	<% end %>	
</div>
<br />

<div align="center">
<%= form_for(:filter, :url => {:action => 'filter'}) do |f| %>
	<table style="width:20%" align="center" class="table table-condensed">
		<thead>
			<tr>
				<th class="text-center">Physical</th>
				<th class="text-center">E-Book</th>
				<th class="text-center">Read</th>
				<th>&nbsp;</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="text-center"><%= f.check_box(:physical) %></td>
				<td class="text-center"><%= f.check_box(:ebook) %></td>
				<td class="text-center"><%= f.check_box(:read) %></td>
				<td>
					<button type="submit" class= "btn btn-default btn-xs">
						Filter
					</button>
				</td>
			</tr>
		</tbody>
<% end %>
		


<div class"book-table">
	<table style="width:80%" align="center" class="table table-hover">
		<thead>
			<tr>
				<th><%= link_to(sortable "position") %></th>
				<th><%= link_to(sortable "title") %></th>
				<th><%= link_to(sortable "author") %></th>
				<th class="text-center">Physical</th>
				<th class="text-center">E-Book</th>
				<th class="text-center">Read</th>
				<th colspan='2'>&nbsp;</th>
			</tr>
		</thead>
		<tbody>	
			<% @books.each do |book| %>
				<tr>
					<td><%= book.position %></td>
					<td><%= book.title %></td>
					<td><%= book.author %></td>
					<td class="text-center"><%= book.physical ? "\u2713" : "\u25A2" %></td>
					<td class="text-center"><%= book.ebook ? "\u2713" : "\u25A2" %></td>
					<td class="text-center"><%= book.read ?  "\u2713" : "\u25A2" %></td>
					<td class="text-center"><%= link_to("Edit", {:action => 'edit', :id => book.id}) %>
					<td class="text-center"><%= link_to("Delete", {:action => 'destroy', :id => book.id, :class => 'btn btn-mini btn-danger' } ) %>
				</tr>
			<% end %>
		</tbody>
	</table>
</div>

</body>
</html>


